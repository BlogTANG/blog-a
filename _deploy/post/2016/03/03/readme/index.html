<!DOCTYPE html>
<html>
<head>
    

<title>README - Blog A</title>
<link rel=stylesheet type=text/css href="../../../../../static/stylesheets/github_markdown.css">
<link rel=stylesheet type=text/css href="../../../../../static/stylesheets/code.css">


    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"/>
<link rel="alternate" type="application/atom+xml" title="Blog A" href="../../../../../feed.xml"/>

<!-- Link common CSS and JavaScript files-->
<link rel=stylesheet type=text/css href="../../../../../static/stylesheets/style.css">
<link rel=stylesheet type=text/css href="../../../../../static/stylesheets/github_issue.css">
<script type="text/javascript" src="https://cdn.bootcss.com/jquery/1.12.1/jquery.min.js"></script>
<link href="https://cdn.bootcss.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.bootcss.com/bootstrap/3.3.6/css/bootstrap-theme.min.css" rel="stylesheet">
<script src="https://cdn.bootcss.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

<!-- Set favicon -->
<link rel="apple-touch-icon" sizes="57x57" href="../../../../../static/favicons/apple-touch-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="../../../../../static/favicons/apple-touch-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="../../../../../static/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="../../../../../static/favicons/apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="../../../../../static/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="../../../../../static/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="../../../../../static/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="../../../../../static/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="../../../../../static/favicons/apple-touch-icon-180x180.png">
<link rel="icon" type="image/png" href="../../../../../static/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="../../../../../static/favicons/favicon-194x194.png" sizes="194x194">
<link rel="icon" type="image/png" href="../../../../../static/favicons/favicon-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="../../../../../static/favicons/android-chrome-192x192.png" sizes="192x192">
<link rel="icon" type="image/png" href="../../../../../static/favicons/favicon-16x16.png" sizes="16x16">
<link rel="manifest" href="../../../../../static/favicons/manifest.json">
<link rel="mask-icon" href="../../../../../static/favicons/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#00aba9">
<meta name="msapplication-TileImage" content="/static/favicons/mstile-144x144.png">
<meta name="theme-color" content="#ffffff">

<!-- Set standalone -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="white">
<script src="../../../../../static/javascripts/ios_stay_standalone.js"></script>
</head>
<body>

<nav class="navbar navbar-default navbar-static-top">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar"
                    aria-expanded="false" aria-controls="navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="../../../../../">Blog A</a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
                <li class="active"><a href="../../../../../">Blog</a></li>
            </ul>
        </div>
    </div>
</nav>

<div class="main">
    

<div class="markdown-body article">
    
    
    <span>
        
        
        <a href="../../../../../tag/BlogA" class="label" style="background-color: #207de5; color: #fff;">BlogA</a>
    </span>
    

    <h1>README</h1>

    <table>
        <thead>
        <tr>
            
            <th>类别</th>
            
            <th>发布日期</th>
            
        </tr>
        </thead>
        <tbody>
        <tr>
            
            <td>
                <a href="../../../../../category/Default" class="muted-link">Default</a>
                
            </td>
            
            <td>3 Mar, 2016</td>
            
        </tr>
        </tbody>
    </table>

    <p>基于 Flask 的简易 Python 博客框架，要求 Python 版本 3.x，Demo：<a href="http://demo.blog-a.r-c.im">http://demo.blog-a.r-c.im</a>。</p>

<h2>基本用法</h2>

<h3>网站配置</h3>

<p>在 <code>config.py</code> 文件中修改网站配置信息。</p>

<h3>添加 Post</h3>

<p>使用 Markdown 书写 Post，放在 <code>posts</code> 目录，Post 文件名为 <code>yyyy-MM-dd-post-name.md</code> 或 <code>yyyy-MM-dd-post-name.markdown</code>，如 <code>2016-03-02-my-first-post.md</code>。</p>

<p>Markdown 文件开头使用 YAML 标记文章信息，可被识别的信息如下：</p>
<div class="highlight"><pre><span class="l l-Scalar l-Scalar-Plain">title</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">My Post Title (默认从文件名获取, 如</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">2016-03-02-my-first-post.md 的默认 title 为 &quot;My First Post&quot;)</span>
<span class="l l-Scalar l-Scalar-Plain">layout</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">post (默认为 &quot;post&quot;, 暂不支持其他 layout)</span>
<span class="l l-Scalar l-Scalar-Plain">url</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">(默认为 &quot;root_url/year/month/day/title&quot;)</span>
<span class="l l-Scalar l-Scalar-Plain">categories</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="nv">category1</span><span class="p p-Indicator">,</span> <span class="nv">category2</span><span class="p p-Indicator">]</span> <span class="l l-Scalar l-Scalar-Plain">(默认为空)</span>
<span class="l l-Scalar l-Scalar-Plain">tags</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="nv">tag1</span><span class="p p-Indicator">,</span> <span class="nv">tag2</span><span class="p p-Indicator">,</span> <span class="nv">tag3</span><span class="p p-Indicator">]</span> <span class="l l-Scalar l-Scalar-Plain">(默认为空)</span>
<span class="l l-Scalar l-Scalar-Plain">date</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">YYYY-MM-DD HH:MM:SS (默认从文件名获取)</span>
<span class="l l-Scalar l-Scalar-Plain">updated</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">YYYY-MM-DD HH:MM:SS (默认为空)</span>
<span class="l l-Scalar l-Scalar-Plain">author</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Richard Chien (默认为 config.py 文件中设置的 author)</span>
<span class="l l-Scalar l-Scalar-Plain">email</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">richardchienthebest@gmail.com (默认为 config.py 文件中设置的 email)</span>
</pre></div>

<p>YAML 标记部分和正文 Markdown 部分用 <code>\n\n</code> 分隔，如：</p>

<pre><code>title: My Post Title
tags: [tag1, tag2]
date: 2016-03-02 20:48

## Title
This is my first post.</code></pre>

<h3>设置 Favicon</h3>

<p>建议使用 <a href="https://realfavicongenerator.net/">RealFaviconGenerator</a> 在线生成 Favicon，并覆盖 <code>static</code> 目录下的 <code>favicons</code> 目录。</p>

<p>当然你也可以自行修改 <code>/templates/head.html</code> 文件中设置 Favicon 的部分。</p>

<h3>运行 Web App</h3>
<div class="highlight"><pre><span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">r</span> <span class="n">requirements</span><span class="o">.</span><span class="n">txt</span>
<span class="n">python</span> <span class="n">app</span><span class="o">.</span><span class="n">py</span>  <span class="c1"># 可能需要用 python3 app.py</span>
</pre></div>

<h2>自定义主题</h2>

<p>模板使用 Jinja2 引擎，语法参考 <a href="http://jinja.pocoo.org/docs/dev/templates/">Template Designer Documentation</a>，模板文件放在 <code>templates</code> 目录，运行时程序要求确保 <code>templates</code> 目录下有名为 <code>index.html</code>、<code>post.html</code>、<code>tag.html</code>、<code>category.html</code>、<code>404.html</code> 的几个文件，这些模板文件与 URL 的对应关系如下：</p>

<pre><code>/                           -&gt; index.html
/page/2                     -&gt; index.html
/post/2016/03/03/some-title -&gt; post.html
/tag/some-tag               -&gt; tag.html
/category/some-category     -&gt; category.html</code></pre>

<p>渲染 HTML 时传入的变量为 <code>site</code> 和 <code>page</code>。<code>site</code> 中保存网站信息，即 <code>config.py</code> 中的配置；<code>page</code> 中保存页面相关的信息，具体内容如下：</p>

<pre><code># 传入 index.html 的 page 的属性
has_newer: 有更新的 Post
newer_url: 更新的 Post 列表, 如在 &quot;/page/3&quot; 时, 此属性值为 &quot;/page/2&quot;
has_older: 有更早的 Post
older_url: 更早的 Post 列表
entries: 当前页面需要显示的所有 Post 条目列表，其中每一个列表项的属性即为 Post 文件开头的 YAML 标记的信息, 以及 &quot;body&quot;, 保存已解析成 HTML 的 Markdown 正文内容

# 传入 post.html 的 page 的属性
# 除了 Post 文件开头的 YAML 标记的信息以及 &quot;body&quot; 外, 还包括下面两个:
id_key: 代表该 Post 的唯一值, 用于 Disqus 之类评论框
absolute_url: 链接到该 Post 的绝对路径, 用于 Disqus 之类评论框

# 传入 tag.html 的 page 的属性
tag: Tag 名称
entries: 与传入 index.html 的 page 中的 entries 相同

# 传入 category.html 的 page 的属性
category: Category 名称
entries: 与传入 index.html 的 page 中的 entries 相同</code></pre>

</div>






</div>

<footer class="footer">
    <hr style="">
    <div class="container">
        <p class="text-muted">Powered by <a href="http://github.com/richardchien/blog-a">Blog A</a></p>
    </div>
</footer>

<script type="text/javascript">
    var elems = document.getElementsByTagName('a');
    for (var i = 0; i < elems.length; i++) {
        if (elems[i].href.indexOf(document.domain) < 0) {
            elems[i].target = '_blank';
        }
    }
</script>

</body>
</html>